!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).jora=t()}(this,(function(){"use strict";var e={version:"1.0.0-beta.5"},t=Object.freeze({__proto__:null,version:"1.0.0-beta.5",default:e});var r=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var t=function(e,t,r={}){return e.forEach(e=>r[e]=t),r},r=[2,5],n=[1,13],a=[1,41],s=[1,18],i=[1,7],o=[1,8],l=[1,10],u=[1,11],c=[1,12],p=[1,19],h=[1,20],y=[1,21],g=[1,22],f=[1,23],d=[1,24],b=[1,25],m=[1,29],k=[1,32],v=[1,33],_=[1,34],$=[1,35],O=[1,36],E=[1,37],w=[1,42],A=[1,43],N=[1,40],S=[5,18,56,59],x=[1,47],T=[1,55],C=[1,54],I=[1,48],R=[1,49],P=[1,50],j=[1,51],q=[1,52],M=[1,53],L=[1,56],D=[1,57],F=[1,58],U=[1,59],B=[1,60],G=[1,61],z=[1,62],Y=[1,63],J=[1,64],H=[1,65],W=[1,66],Z=[5,9,14,15,17,18,19,22,23,24,44,45,46,47,48,49,50,54,56,58,59,60,61,62,63,64,72,73,76,77,80],Q=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,66,74,75,77],V=[1,67],X=[1,68],K=[1,69],ee=[1,70],te=[1,71],re=[1,72],ne=[1,73],ae=[1,76],se=[5,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],ie=[2,46],oe=[1,82],le=[1,83],ue=[2,48],ce=[1,84],pe=[1,86],he=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,59,60,61,62,63,64,66,74,75,77,84],ye=[5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,54,56,58,59,60,61,62,63,64,66,74,75,77,84],ge=[1,93],fe=[1,94],de=[1,95],be=[1,111],me=[1,110],ke=[1,116],ve=[1,119],_e=[1,120],$e=[1,121],Oe=[1,122],Ee=[1,123],we=[9,14,15,17,19,22,23,24,44,45,46,47,48,49,50,54,58,60,61,62,63,64,72,73,74,75,76],Ae=[5,10,11,18,21,56,59,66,74,75,77],Ne=[5,10,11,18,21,29,30,41,56,59,66,74,75,77],Se=[5,10,11,18,21,23,24,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],xe=[56,66],Te=[2,115],Ce=[11,56],Ie=[66,77],Re=[2,102],Pe=[2,103],je=[5,10,11,18,21,25,26,27,28,29,30,41,56,59,66,74,75,77],qe=[5,10,11,18,21,25,26,27,28,29,30,34,35,40,41,56,59,66,74,75,77],Me=[5,10,11,18,21,25,26,27,28,29,30,34,35,36,37,38,39,40,41,56,59,66,74,75,77],Le=[1,199],De=[1,201],Fe=[59,66],Ue=[1,211],Be=[2,109];const Ge={trace:function(...e){this.DEBUG&&Jison.print(...e)},yy:{},symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,query:16,FUNCTION_START:17,FUNCTION_END:18,FUNCTION:19,sortingCompareList:20,"|":21,NOT:22,"-":23,"+":24,IN:25,HAS:26,NOTIN:27,HASNO:28,AND:29,OR:30,"*":31,"/":32,"%":33,"=":34,"!=":35,"<":36,"<=":37,">":38,">=":39,"~=":40,"?":41,queryRoot:42,relativePath:43,"@":44,"#":45,$$:46,STRING:47,NUMBER:48,REGEXP:49,LITERAL:50,template:51,object:52,array:53,"[":54,sliceNotation:55,"]":56,"method()":57,"(":58,")":59,".":60,".(":61,".[":62,"..":63,"..(":64,arguments:65,",":66,templateString:67,templateStart:68,templateTail:69,templateEnd:70,templateContinue:71,TEMPLATE:72,TPL_START:73,TPL_CONTINUE:74,TPL_END:75,"{":76,"}":77,properties:78,property:79,"...":80,arrayElements:81,arrayElement:82,sortingCompare:83,ORDER:84,sliceNotationComponent:85,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"FUNCTION_START",18:"FUNCTION_END",19:"FUNCTION",21:"|",22:"NOT",23:"-",24:"+",25:"IN",26:"HAS",27:"NOTIN",28:"HASNO",29:"AND",30:"OR",31:"*",32:"/",33:"%",34:"=",35:"!=",36:"<",37:"<=",38:">",39:">=",40:"~=",41:"?",44:"@",45:"#",46:"$$",47:"STRING",48:"NUMBER",49:"REGEXP",50:"LITERAL",54:"[",56:"]",58:"(",59:")",60:".",61:".(",62:".[",63:"..",64:"..(",66:",",72:"TEMPLATE",73:"TPL_START",74:"TPL_CONTINUE",75:"TPL_END",76:"{",77:"}",80:"...",84:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[7,1],[7,3],[7,2],[7,1],[7,3],[7,4],[7,2],[7,2],[7,2],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,5],[16,1],[16,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,1],[42,3],[42,1],[42,1],[42,3],[42,4],[42,2],[42,2],[42,3],[42,3],[42,2],[42,2],[42,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[43,4],[43,3],[43,3],[43,4],[57,3],[57,4],[57,3],[57,4],[65,1],[65,3],[51,1],[51,2],[69,1],[69,2],[69,2],[69,3],[67,1],[68,1],[71,1],[70,1],[52,2],[52,3],[52,4],[52,3],[52,4],[52,5],[78,1],[78,3],[79,1],[79,1],[79,1],[79,3],[79,3],[79,3],[79,3],[79,3],[79,5],[79,1],[79,2],[81,1],[81,3],[82,1],[82,1],[82,2],[53,2],[53,3],[53,4],[20,1],[20,3],[83,2],[55,1],[55,2],[55,2],[55,3],[85,1],[85,2]],performAction:function(e,t,r,n,a,s,i){var o=s.length-1;switch(a){case 1:return n.buildResult(s[o-1]);case 2:this.$={type:"Block",definitions:s[o-1],body:s[o],range:this._$.range};break;case 3:this.$={type:"Block",definitions:s[o],body:null,range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:s[o],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:null,range:this._$.range};break;case 6:case 82:case 84:case 100:case 113:case 121:this.$=[s[o]];break;case 7:s[o-1].push(s[o]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:i[o-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:i[o-3].range},value:s[o-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:s[o-1].name,range:i[o-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:s[o-3].name,range:i[o-3].range},value:s[o-1],range:this._$.range};break;case 12:case 13:this.$={type:"Identifier",name:s[o],range:this._$.range};break;case 14:case 42:case 43:case 54:case 55:case 115:break;case 15:this.$={type:"Function",arguments:[],body:s[o-1],legacy:!0,range:this._$.range};break;case 16:this.$={type:"Function",arguments:[],body:s[o],legacy:!1,range:this._$.range};break;case 17:this.$={type:"SortingFunction",compares:s[o],range:this._$.range};break;case 18:this.$={type:"Pipeline",left:s[o-2],right:s[o],range:this._$.range};break;case 19:this.$={type:"Pipeline",left:s[o-3],right:{type:"Block",definitions:s[o-1],body:s[o]},range:this._$.range};break;case 20:case 21:case 22:this.$={type:"Unary",operator:s[o-1],argument:s[o],range:this._$.range};break;case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:this.$={type:"Binary",operator:s[o-1],left:s[o-2],right:s[o],range:this._$.range};break;case 41:this.$={type:"Conditional",test:s[o-4],consequent:s[o-2],alternate:s[o],range:this._$.range};break;case 44:this.$={type:"Data",range:this._$.range};break;case 45:this.$={type:"Context",range:this._$.range};break;case 46:this.$={type:"Current",range:this._$.range};break;case 47:this.$={type:"Arg1",range:this._$.range};break;case 48:this.$={type:"Reference",name:s[o],range:this._$.range};break;case 49:case 50:case 51:case 52:case 90:case 91:case 92:case 93:this.$={type:"Literal",value:s[o],range:this._$.range};break;case 53:this.$={type:"Template",values:s[o],range:this._$.range};break;case 56:this.$={type:"SliceNotation",value:null,arguments:s[o-1],range:this._$.range};break;case 57:case 61:this.$={type:"GetProperty",value:null,property:s[o],range:this._$.range};break;case 58:case 62:this.$={type:"MethodCall",value:null,method:s[o],range:this._$.range};break;case 59:this.$={type:"Parentheses",body:s[o-1],range:this._$.range};break;case 60:this.$={type:"Parentheses",body:{type:"Block",definitions:s[o-2],body:s[o-1]},range:this._$.range};break;case 63:this.$={type:"Map",value:null,query:s[o-1],range:this._$.range};break;case 64:this.$={type:"Filter",value:null,query:s[o-1],range:this._$.range};break;case 65:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:s[o]},range:this._$.range};break;case 66:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:s[o]},range:this._$.range};break;case 67:this.$={type:"MapRecursive",value:null,query:s[o-1],range:this._$.range};break;case 68:this.$={type:"Pick",value:s[o-2],getter:null,range:this._$.range};break;case 69:this.$={type:"Pick",value:s[o-3],getter:s[o-1],range:this._$.range};break;case 70:this.$={type:"SliceNotation",value:s[o-3],arguments:s[o-1],range:this._$.range};break;case 71:this.$={type:"GetProperty",value:s[o-2],property:s[o],range:this._$.range};break;case 72:this.$={type:"MethodCall",value:s[o-2],method:s[o],range:this._$.range};break;case 73:this.$={type:"Map",value:s[o-3],query:s[o-1],range:this._$.range};break;case 74:this.$={type:"Filter",value:s[o-3],query:s[o-1],range:this._$.range};break;case 75:this.$={type:"MapRecursive",value:s[o-2],query:{type:"GetProperty",value:null,property:s[o]},range:this._$.range};break;case 76:this.$={type:"MapRecursive",value:s[o-2],query:{type:"MethodCall",value:null,method:s[o]},range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:s[o-3],query:s[o-1],range:this._$.range};break;case 78:this.$={type:"Method",reference:s[o-2],arguments:[],range:this._$.range};break;case 79:this.$={type:"Method",reference:s[o-3],arguments:s[o-1],range:this._$.range};break;case 80:this.$={type:"Method",reference:{type:"Reference",name:s[o-2]},arguments:[],range:this._$.range};break;case 81:this.$={type:"Method",reference:{type:"Reference",name:s[o-3]},arguments:s[o-1],range:this._$.range};break;case 83:case 101:case 114:case 122:s[o-2].push(s[o]);break;case 85:this.$=[s[o-1],...s[o]];break;case 86:case 124:this.$=[null,s[o]];break;case 87:case 126:this.$=[s[o-1],s[o]];break;case 88:this.$=[null,s[o-1],...s[o]];break;case 89:this.$=[s[o-2],s[o-1],...s[o]];break;case 94:case 97:this.$={type:"Object",properties:[],range:this._$.range};break;case 95:this.$={type:"Object",properties:s[o-1],range:this._$.range};break;case 96:this.$={type:"Object",properties:s[o-2],range:this._$.range};break;case 98:this.$={type:"Block",definitions:s[o-2],body:{type:"Object",properties:s[o-1]},range:this._$.range};break;case 99:this.$={type:"Block",definitions:s[o-3],body:{type:"Object",properties:s[o-2]},range:this._$.range};break;case 102:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 103:this.$={type:"ObjectEntry",key:{type:"Reference",name:s[o]},value:null,range:this._$.range};break;case 104:this.$={type:"ObjectEntry",key:s[o],value:null,range:this._$.range};break;case 105:this.$={type:"ObjectEntry",key:s[o-2],value:s[o],range:this._$.range};break;case 106:case 107:case 108:this.$={type:"ObjectEntry",key:{type:"Literal",value:s[o-2]},value:s[o],range:this._$.range};break;case 109:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+s[o-2].name},value:s[o],range:this._$.range};break;case 110:this.$={type:"ObjectEntry",key:s[o-3],value:s[o],range:this._$.range};break;case 111:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 112:this.$={type:"Spread",query:s[o],array:!1,range:this._$.range};break;case 116:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 117:this.$={type:"Spread",query:s[o],array:!0,range:this._$.range};break;case 118:this.$={type:"Array",elements:[],range:this._$.range};break;case 119:this.$={type:"Array",elements:s[o-1],range:this._$.range};break;case 120:this.$={type:"Array",elements:s[o-2],range:this._$.range};break;case 123:this.$={type:"Compare",query:s[o-1],order:s[o],range:this._$.range};break;case 125:this.$=[null,s[o-1],s[o]];break;case 127:this.$=[s[o-2],s[o-1],s[o]];break;case 128:this.$=null;break;case 129:this.$=s[o]}},table:[{3:1,4:2,5:r,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{1:[3]},{5:[1,44]},t(S,[2,3],{16:6,20:9,12:14,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,7:45,8:46,9:n,14:a,15:s,17:i,19:o,22:l,23:u,24:c,44:p,45:h,46:y,47:g,48:f,49:d,50:b,54:m,58:k,60:v,61:_,62:$,63:O,64:E,72:w,73:A,76:N}),t(S,[2,4],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Z,[2,6]),t(Q,[2,14],{54:V,60:X,61:K,62:ee,63:te,64:re,84:ne}),{4:74,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,18:r,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:75,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t([5,10,11,18,21,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,56,59,74,75,77],[2,17],{66:[1,78]}),{7:79,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:80,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:81,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(se,ie,{10:oe,11:le}),t(se,ue,{10:ce,11:[1,85],58:pe}),t(he,[2,42]),t(he,[2,43]),t(Q,[2,121]),t(ye,[2,13]),t(he,[2,44]),t(he,[2,45]),t(he,[2,47]),t(he,[2,49]),t(he,[2,50]),t(he,[2,51]),t(he,[2,52]),t(he,[2,53]),t(he,[2,54]),t(he,[2,55]),{7:91,9:ae,11:ge,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,55:87,56:[1,88],57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,80:fe,81:89,82:92,83:17,85:90},t(he,[2,57],{58:de}),t(he,[2,58]),{6:97,7:96,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{12:100,13:98,14:a,15:s,57:99},{4:101,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:r,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{4:102,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,56:r,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{12:100,13:103,14:a,15:s,57:104},{4:105,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:r,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(he,[2,84]),{7:108,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,69:106,70:107,71:109,72:w,73:A,74:be,75:me,76:N,83:17},{6:114,8:5,9:ke,12:117,13:118,14:a,15:s,47:ve,48:_e,50:$e,54:Oe,77:[1,112],78:113,79:115,80:Ee},t(ye,[2,12]),t(he,[2,90]),t(we,[2,91]),{1:[2,1]},t(S,[2,2],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Z,[2,7]),{6:125,7:124,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:126,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:127,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:128,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:129,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:130,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:131,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:132,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:133,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:134,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:135,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:136,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:137,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:138,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:139,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:140,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:141,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:142,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:143,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:144,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:146,9:ae,11:ge,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,55:147,56:[1,145],57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17,85:90},{12:100,13:148,14:a,15:s,57:149},{4:150,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:r,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{4:151,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,56:r,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{12:100,13:152,14:a,15:s,57:153},{4:154,6:3,7:4,8:5,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:r,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(Q,[2,123]),{18:[1,155]},t(Ae,[2,16],{23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(he,ie),t(he,ue,{58:pe}),{9:ae,12:77,13:30,14:a,15:s,16:157,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:156},t(Ne,[2,20],{23:T,24:C,25:I,26:R,27:P,28:j,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(Se,[2,21],{31:L,32:D,33:F}),t(Se,[2,22],{31:L,32:D,33:F}),t(Z,[2,8]),{7:158,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(Z,[2,10]),{7:159,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:162,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:[1,160],60:v,61:_,62:$,63:O,64:E,65:161,67:38,68:39,72:w,73:A,76:N,83:17},{56:[1,163]},t(he,[2,118]),{56:[1,164],66:[1,165]},{11:ge,56:[2,124],85:166},t(xe,Te,{85:167,11:ge,21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(xe,[2,113]),t(Ce,[2,128],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:168,9:ae,14:a,15:s,17:i,19:o,22:l,23:u,24:c,44:p,45:h,46:y,47:g,48:f,49:d,50:b,54:m,58:k,60:v,61:_,62:$,63:O,64:E,72:w,73:A,76:N}),t(xe,[2,116],{16:6,20:9,42:15,43:16,83:17,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,7:169,9:ae,14:a,15:s,17:i,19:o,22:l,23:u,24:c,44:p,45:h,46:y,47:g,48:f,49:d,50:b,54:m,58:k,60:v,61:_,62:$,63:O,64:E,72:w,73:A,76:N}),{7:162,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,59:[1,170],60:v,61:_,62:$,63:O,64:E,65:171,67:38,68:39,72:w,73:A,76:N,83:17},{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W,59:[1,172]},{7:173,8:46,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(he,[2,61],{58:de}),t(he,[2,62]),{58:pe},{59:[1,174]},{56:[1,175]},t(he,[2,65],{58:de}),t(he,[2,66]),{59:[1,176]},t(he,[2,85]),t(he,[2,86]),{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W,70:177,71:178,74:be,75:me},{7:108,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,69:179,70:107,71:109,72:w,73:A,74:be,75:me,76:N,83:17},t(he,[2,93]),t(we,[2,92]),t(he,[2,94]),{66:[1,181],77:[1,180]},{8:46,9:ke,12:117,13:118,14:a,15:s,47:ve,48:_e,50:$e,54:Oe,77:[1,182],78:183,79:115,80:Ee},t(Ie,[2,100]),t(Ie,Re,{10:oe,11:le}),t(Ie,Pe,{10:ce,11:[1,184]}),t(Ie,[2,104],{11:[1,185]}),{11:[1,186]},{11:[1,187]},{11:[1,188]},{7:189,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(Ie,[2,111],{42:15,43:16,51:26,52:27,53:28,13:30,57:31,67:38,68:39,12:77,16:190,9:ae,14:a,15:s,44:p,45:h,46:y,47:g,48:f,49:d,50:b,54:m,58:k,60:v,61:_,62:$,63:O,64:E,72:w,73:A,76:N}),t(Ae,[2,18],{23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),{7:191,8:46,9:n,12:14,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(je,[2,23],{23:T,24:C,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(je,[2,24],{23:T,24:C,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(je,[2,25],{23:T,24:C,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(je,[2,26],{23:T,24:C,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(Ne,[2,27],{23:T,24:C,25:I,26:R,27:P,28:j,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t([5,10,11,18,21,30,41,56,59,66,74,75,77],[2,28],{23:T,24:C,25:I,26:R,27:P,28:j,29:q,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H}),t(Se,[2,29],{31:L,32:D,33:F}),t(Se,[2,30],{31:L,32:D,33:F}),t(Q,[2,31]),t(Q,[2,32]),t(Q,[2,33]),t(qe,[2,34],{23:T,24:C,31:L,32:D,33:F,36:G,37:z,38:Y,39:J}),t(qe,[2,35],{23:T,24:C,31:L,32:D,33:F,36:G,37:z,38:Y,39:J}),t(Me,[2,36],{23:T,24:C,31:L,32:D,33:F}),t(Me,[2,37],{23:T,24:C,31:L,32:D,33:F}),t(Me,[2,38],{23:T,24:C,31:L,32:D,33:F}),t(Me,[2,39],{23:T,24:C,31:L,32:D,33:F}),t(qe,[2,40],{23:T,24:C,31:L,32:D,33:F,36:G,37:z,38:Y,39:J}),{11:[1,192],21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W},t(he,[2,68]),{11:ge,21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W,56:[1,193],85:167},{56:[1,194]},t(he,[2,71],{58:de}),t(he,[2,72]),{59:[1,195]},{56:[1,196]},t(he,[2,75],{58:de}),t(he,[2,76]),{59:[1,197]},t(Q,[2,15]),t(Q,[2,122]),{54:V,60:X,61:K,62:ee,63:te,64:re,84:ne},{10:[1,198],21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W},{10:Le,21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W},t(he,[2,80]),{59:[1,200],66:De},t(Fe,[2,82],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(he,[2,56]),t(he,[2,119]),{7:204,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,56:[1,202],57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,80:fe,82:203,83:17},{56:[2,125]},{11:ge,56:[2,126],85:205},t(Ce,[2,129],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(xe,[2,117],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(he,[2,78]),{59:[1,206],66:De},t(he,[2,59]),{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W,59:[1,207]},t(he,[2,63]),t(he,[2,64]),t(he,[2,67]),t(he,[2,87]),{7:108,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,69:208,70:107,71:109,72:w,73:A,74:be,75:me,76:N,83:17},t(he,[2,88]),t(he,[2,95]),{9:Ue,12:212,13:118,14:a,15:s,47:ve,48:_e,50:$e,54:Oe,77:[1,209],79:210,80:Ee},t(he,[2,97]),{66:[1,214],77:[1,213]},{7:215,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:216,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:217,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:218,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{7:219,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W,56:[1,220]},t(Ie,[2,112],{54:V,60:X,61:K,62:ee,63:te,64:re}),t(Ae,[2,19],{23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),{7:221,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(he,[2,69]),t(he,[2,70]),t(he,[2,73]),t(he,[2,74]),t(he,[2,77]),t(Z,[2,9]),t(Z,[2,11]),t(he,[2,81]),{7:222,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(he,[2,120]),t(xe,[2,114]),t(xe,Te,{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),{56:[2,127]},t(he,[2,79]),t(he,[2,60]),t(he,[2,89]),t(he,[2,96]),t(Ie,[2,101]),t(Ie,Re),t(Ie,Pe,{11:[1,223]}),t(he,[2,98]),{9:Ue,12:212,13:118,14:a,15:s,47:ve,48:_e,50:$e,54:Oe,77:[1,224],79:210,80:Ee},t(Ie,Be,{10:Le,21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Ie,[2,105],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Ie,[2,106],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Ie,[2,107],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Ie,[2,108],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),{11:[1,225]},t(Ae,[2,41],{23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Fe,[2,83],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),{7:226,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(he,[2,99]),{7:227,9:ae,12:77,13:30,14:a,15:s,16:6,17:i,19:o,20:9,22:l,23:u,24:c,42:15,43:16,44:p,45:h,46:y,47:g,48:f,49:d,50:b,51:26,52:27,53:28,54:m,57:31,58:k,60:v,61:_,62:$,63:O,64:E,67:38,68:39,72:w,73:A,76:N,83:17},t(Ie,Be,{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W}),t(Ie,[2,110],{21:x,23:T,24:C,25:I,26:R,27:P,28:j,29:q,30:M,31:L,32:D,33:F,34:U,35:B,36:G,37:z,38:Y,39:J,40:H,41:W})],defaultActions:{44:[2,1],166:[2,125],205:[2,127]},parseError:function(e,t){if(!t.recoverable){const r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e,...t){const r=e=>{c.length-=2*e,p.length-=e,h.length-=e},n=()=>{let e=a.lex()||1;return"number"!=typeof e&&(e=this.symbols_[e]||e),e},a=Object.create(this.lexer),s=a.options&&a.options.ranges,i={...this.yy,parser:this,lexer:a};a.setInput(e,i),"function"==typeof i.parseError&&(this.parseError=i.parseError),void 0===a.yylloc&&(a.yylloc={});const o=this.table,l={};let u=a.yylloc;const c=[0],p=[null],h=[u];let y,g,f="",d=0,b=0,m=0;for(;;){let e,k=c[c.length-1];if(this.defaultActions[k]?e=this.defaultActions[k]:(null==y&&(y=n()),e=o[k]&&o[k][y]),!e||!e[0]){let t,s="";if(!m){const e=[];for(const t in o[k])t in this.terminals_&&t>2&&e.push("'"+this.terminals_[t]+"'");s=a.showPosition?"Parse error on line "+(d+1)+":\n"+a.showPosition()+"\nExpecting "+e.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(d+1)+": Unexpected "+(1===y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(s,{text:a.match,token:this.terminals_[y]||y,line:a.yylineno,loc:u,expected:e})}if(3===m){if(1===y||1===g)throw new Error(s||"Parsing halted while starting to recover from another error.");b=a.yyleng,f=a.yytext,d=a.yylineno,u=a.yylloc,y=n()}r(t),g=2==y?null:y,y=2,k=c[c.length-1],e=o[k]&&o[k][2],m=3}if(Array.isArray(e[0])&&e.length>1)throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+y);switch(e[0]){case 1:c.push(y),p.push(a.yytext),h.push(a.yylloc),c.push(e[1]),y=null,g?(y=g,g=null):(b=a.yyleng,f=a.yytext,d=a.yylineno,u=a.yylloc,m>0&&m--);break;case 2:{const n=this.productions_[e[1]][1];l.$=p[p.length-n],l._$={first_line:h[h.length-(n||1)].first_line,last_line:h[h.length-1].last_line,first_column:h[h.length-(n||1)].first_column,last_column:h[h.length-1].last_column},s&&(l._$.range=[h[h.length-(n||1)].range[0],h[h.length-1].range[1]]);const a=this.performAction.call(l,f,b,d,i,e[1],p,h,...t);if(void 0!==a)return a;n&&r(n),c.push(this.productions_[e[1]][0]),p.push(l.$),h.push(l._$),c.push(o[c[c.length-2]][c[c.length-1]]);break}case 3:return!0}}}};var ze=function(){var t={options:{ranges:!0},performAction:function(e,t,r,n){switch(r){case 0:e.commentRanges.push(t.yylloc.range);break;case 1:break;case 2:return this.popState(),32;case 3:return this.popState(),36;case 4:this.done=!1,this.popState();break;case 5:{const r=t.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return t.yytext=this.toStringLiteral(t.yytext,!0,1+("TEMPLATE"!==r)),"TEMPLATE"===r&&e.pps(),r}case 6:{const r=t.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return t.yytext=this.toStringLiteral(t.yytext,!0,1+("TPL_END"!==r)),this.popState(),"TPL_END"===r&&e.pps(),r}case 7:break;case 8:return 58;case 9:return e.pps(),59;case 10:return 54;case 11:return e.pps(),56;case 12:return 76;case 13:if("TPL_END"!==this.bracketStack[this.bracketStack.length-1])return e.pps(),77;this.unput("}"),this.begin("template");break;case 14:return t.yytext=this.toLiteral(t.yytext),50;case 15:return 29;case 16:return 30;case 17:return 28;case 18:return 26;case 19:return 25;case 20:return 27;case 21:return 22;case 22:return 84;case 23:return e.pps(),t.yytext=Number(t.yytext),48;case 24:return e.pps(),t.yytext=parseInt(t.yytext,16),48;case 25:case 26:return e.pps(),t.yytext=this.toStringLiteral(t.yytext),47;case 27:return e.pps(),t.yytext=this.toRegExp(t.yytext),49;case 28:return e.pps(),t.yytext=this.ident(t.yytext),14;case 29:return e.pps(),t.yytext=this.ident(t.yytext.slice(1)),15;case 30:return e.pps(),44;case 31:return e.pps(),45;case 32:return e.pps(),46;case 33:return e.pps(),9;case 34:return 19;case 35:return this.fnOpened++,17;case 36:return 34;case 37:return 35;case 38:return 40;case 39:return 39;case 40:return 37;case 41:return 36;case 42:return this.fnOpened?(this.fnOpened--,18):38;case 43:return 64;case 44:return 61;case 45:return 62;case 46:return 80;case 47:return e.pps(),63;case 48:return e.pps(),60;case 49:return 41;case 50:return 66;case 51:return 11;case 52:return 10;case 53:return 23;case 54:return 24;case 55:return 31;case 56:return 32;case 57:return 33;case 58:return 21;case 59:return 5}},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,(e,t)=>{if(e[0]!==("template"===t?"}":"`"))return null;for(let t=1;t<e.length;t++){if("`"===e[t])return t+1;if("$"===e[t]&&"{"===e[t+1])return t+2;"\\"===e[t]&&t++}return null},(e,t)=>{if(e[0]!==("template"===t?"}":"`"))return null;for(let t=1;t<e.length;t++){if("`"===e[t])return t+1;if("$"===e[t]&&"{"===e[t+1])return t+2;"\\"===e[t]&&t++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not?\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(\d+\.|\.)?\d+([eE][-+]?\d+)?\b)/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/i?)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^<(?!=)/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0},template:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}},EOF:1,setInput(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.matched=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},input(){const e=this._input[0];this.offset++,this.yyleng++,this.yytext=this.match=this.matched=this.yytext+e;return/\n|\r\n?|\u2028|\u2029/g.test(e)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput(e){const t=e.split(/\n|\r\n?|\u2028|\u2029/g),r=this.yytext.split(/\n|\r\n?|\u2028|\u2029/g);this._input=e+this._input,this.offset-=e.length,this.yytext=this.matched=this.match=this.yytext.slice(0,-e.length),this.yyleng=this.yytext.length,this.done=!1,t.length-1&&(this.yylineno-=t.length-1);const n=this.yylloc;return this.yylloc={first_line:n.first_line,last_line:this.yylineno+1,first_column:n.first_column,last_column:t?(t.length===r.length?n.first_column:0)+r[r.length-t.length].length-t[0].length:n.first_column-e.length},this.yylloc.range=[n.range[0],n.range[0]+this.yyleng],this},more(){return this._more=!0,this},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},less(e){this.unput(this.match.slice(e))},pastInput(){const e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")},upcomingInput(){let e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")},showPosition(){const e=this.pastInput();return e+this.upcomingInput()+`\n${"-".repeat(e.length)}^`},test_match(e,t){const r=e[0];this.yytext+=r,this.match+=r,this.matched+=r,this.matches=e,this.yyleng=this.yytext.length,this.offset+=this.yyleng,this._more=!1,this._backtrack=!1,this._input=this._input.slice(r.length);const n=/\n|\r\n?|\u2028|\u2029/g;let a,s=-1;for(;a=n.exec(r);)this.yylineno++,s=a.index+a[0].length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:-1!==s?r.length-s:this.yylloc.last_column+r.length},this.yylloc.range=[this.offset-this.yyleng,this.offset];const i=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]);return!i&&this._backtrack?(Object.assign(this,void 0),!1):(this._input&&(this.done=!1),"number"==typeof i&&this.yy.parser?this.yy.parser.terminals_[i]:i||!1)},next(){if(this.done)return this.EOF;let e,t;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(const r of this.conditions[this.currentCondition].rules){const n=this.rules[r];let a;if("function"==typeof n){const e=n(this._input,this.currentCondition);switch(typeof e){case"string":a=[e];break;case"number":a=[this._input.slice(0,e)];break;default:a=e}}else a=this._input.match(n);if(a&&(!e||a[0].length>e[0].length)){e=a,t=r;break}}return e?this.test_match(e,t):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}};return e.exports=t,t.lexer=t}();function Ye(){this.yy={}}Ge.lexer=ze,Ye.prototype=Ge,Ge.Parser=Ye;const Je=function(e){function t(e,t){Object.entries(t).forEach(([t,r])=>e[t]=r(e[t]))}const r=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["FUNCTION_START",["'<'"]],["FUNCTION_END",["'>'"]],["FUNCTION",["'=>'"]],["NOT",["'not'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]]]),n=e=>r.get(e)||`'${e}'`,a=function(e,t={},r){if(!t.recoverable){"number"==typeof t.inside&&function(e,t,r){const n=r.split(/\r\n?|\n|\u2028|\u2029/g);e.yylineno+=n.length-1,e.yylloc.first_line=e.yylineno+1,e.yylloc.first_column=e.length>1?n[n.length-1].length+1:e.yylloc.first_column+n[0].length,e.yylloc.range[0]+=t,e.offset+=t,e.match=e.match.slice(t)}(r.lexer,t.inside,r.lexer.match.slice(0,t.inside));const a=r.lexer.yylloc,s=[e.split(/\n/)[0],"",r.lexer.showPosition()],i=Array.isArray(t.expected)?[...new Set([].concat(...t.expected.map(e=>n(e.slice(1,-1)))))]:null;i&&s.push("","Expecting "+i.join(", ")+" got "+n(t.token));const o=new SyntaxError(s.join("\n"));throw o.details={rawMessage:e,text:t.text,token:t.token,expected:i,loc:{range:a.range,start:{line:a.first_line,column:a.first_column,offset:a.range[0]},end:{line:a.last_line,column:a.last_column,offset:a.range[1]}}},o}this.trace(e)},s=new Set(["\n","\r","\u2028","\u2029"]);Object.assign(e.lexer,{ident:e=>e.replace(/\\u[0-9a-fA-F]{4}/g,e=>String.fromCharCode(parseInt(e.slice(2),16))),toLiteral:e=>"null"===e?null:"false"!==e&&("true"===e||("Infinity"===e?1/0:"NaN"===e?NaN:void 0)),toStringLiteral(e,t=!1,r=1){let n="";for(let a=1;a<e.length-r;a++){if(!t&&s.has(e[a])&&this.parseError("Invalid line terminator",{inside:a}),"\\"!==e[a]){n+=e[a];continue}const r=e[++a];switch(r){case"\r":a+="\n"===e[a+1];break;case"\n":case"\u2028":case"\u2029":break;case"b":n+="\b";break;case"n":n+="\n";break;case"r":n+="\r";break;case"f":n+="\f";break;case"t":n+="\t";break;case"v":n+="\v";break;case"u":{const t=e.slice(a+1,a+5);if(/^[0-9a-f]{4}$/i.test(t)){n+=String.fromCharCode(parseInt(t,16)),a+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:a-1});break}case"x":{const t=e.slice(a+1,a+3);if(/^[0-9a-f]{2}$/i.test(t)){n+=String.fromCharCode(parseInt(t,16)),a+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:a-1});break}default:n+=r}}return n},toRegExp:e=>new RegExp(e.substr(1,e.lastIndexOf("/")-1),e.substr(e.lastIndexOf("/")+1))}),t(e.lexer,{setInput:e=>function(t,r){const n=[];return r.commentRanges=n,r.buildResult=e=>({ast:e,commentRanges:n}),r.parseError=function(...e){return a.call(this,...e,r)},r.pps=()=>{this._input&&this.begin("preventPrimitive")},this.fnOpened=0,this.fnOpenedStack=[],this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},e.call(this,t,r)}});const i=new e.Parser;i.lexer={...e.lexer},i.yy={...e.yy};const o=["AND","OR","IN","NOTIN","HAS","HASNO"],l=[...o,"NOT","ORDER"],u=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],c=[null,":",";",",",".","..","FUNCTION",...u,...o,"NOT"],p=new Set([",","?",":",";","EOF","]",")","}",...u,...o,"ORDER"]),h=new Map(c.map(e=>[e,p]));h.set("{",new Set([","])),h.set("[",new Set([","])),h.set("(",new Set([","])),t(i.lexer,{lex:e=>function(){const t=this._input,r=e.call(this);if(h.has(this.prevToken)&&h.get(this.prevToken).has(r)){const e={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.yytext),this.pushState("preventPrimitive"),this.done=!1,this.yytext="_",this.yylloc=this.prevYylloc=e,t!==this._input&&l.includes(r)){const r=t.length-this._input.length-1;switch(t[r]){case" ":case"\t":e.last_column--,e.range[1]--;break;case"\n":{const n=t.lastIndexOf("\n",r-1);e.last_line--,e.last_column=-1===n?e.last_column-1:r-n,e.range[1]--;break}}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,l.includes(r))switch(this._input[0]){case" ":case"\t":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case"\n":this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]}}return this.prevToken=r}});const y=new Map([["(",")"],[".(",")"],["..(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),g=new Set([")","]","}","TPL_END"]),f=e=>function(){const t=e.call(this);if(g.has(t)){const e=this.bracketStack.pop();e!==t&&this.parseError(`Expected "${e}" got "${t}"`),this.fnOpened=this.fnOpenedStack.pop()||0}return y.has(t)&&(this.bracketStack.push(y.get(t)),this.fnOpenedStack.push(this.fnOpened),this.fnOpened=0),t};return t(e.lexer,{lex:f}),t(i.lexer,{lex:f}),{parse:(t,r)=>r?i.parse(t):e.parse(t),*tokenize(t,r,n){const a=Object.create(r?i.lexer:e.lexer);for(a.setInput(t,{parser:e});!a.done;){const e={type:a.lex(),value:a.match,offset:a.yylloc.range[0]};n&&(e.loc={range:a.yylloc.range,start:{line:a.yylloc.first_line,column:a.yylloc.first_column},end:{line:a.yylloc.last_line,column:a.yylloc.last_column}}),yield e}}}}(new Ye);return e.exports=Je,Je}()})),n={build:()=>({type:"Arg1"}),compile(e,t){t.put(t.scope.arg1?"arguments[1]":"undefined")},walk(){},stringify(e,t){t.put("$$")}},a={build:e=>({type:"Array",elements:e}),suggest(e,t){0===e.elements.length&&t.queryRoot(e.range[0]+1,e.range[1]-1)},compile(e,t){t.put("["),t.list(e.elements,","),t.put("]")},walk(e,t){t.list(e.elements)},stringify(e,t){t.put("["),t.list(e.elements,","),t.put("]")}};const s={in:"in","not in":"in",has:"-","has no":"-",and:"and",or:"or","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"};function i(e,t,r){if("Array"===r.type){0===r.elements.length&&e.range([r.range[0]+1,r.range[1]-1],"value-subset",t,r);for(const{type:n,range:a,value:s}of r.elements)a&&("Literal"===n||"Identifier"===n||"GetProperty"===n&&null===s)&&e.range(a,"value-subset",t,r)}}var o={build:(e,t,r)=>({type:"Binary",operator:e,left:t,right:r}),suggest(e,t){switch(e.operator){case"in":t.range(e.left.range,"in-value",e.right,null),i(t,e.left,e.right);break;case"not in":i(t,e.left,e.right);break;case"has":t.range(e.right.range,"in-value",e.left,null),i(t,e.right,e.left);break;case"has no":i(t,e.right,e.left);break;case"=":case"!=":t.range(e.right.range,"value",e.left,null)}},compile(e,t){if(e.operator in s!=!1)switch("and"!==e.operator&&"not in"!==e.operator&&"has no"!==e.operator||t.put("!"),e.operator){case"or":case"and":{const r=t.allocateVar();t.put(`f.bool(${r}=`),t.node(e.left),t.put(`)?${r}:`),t.scope.captureCurrent.disabled=!0,t.node(e.right),t.scope.captureCurrent.disabled=!1;break}case"has":case"has no":t.put("f.in("),t.node(e.right),t.put(","),t.node(e.left),t.put(")");break;default:t.put("f."),t.put(s[e.operator]),t.put("("),t.node(e.left),t.put(","),t.node(e.right),t.put(")")}else t.error('Unknown operator "'+e.operator+'"',e)},walk(e,t){t.node(e.left),t.node(e.right)},stringify(e,t){t.node(e.left),/^[a-z]/i.test(e.operator)?(t.put(" "),t.put(e.operator),t.put(" ")):t.put(e.operator),t.node(e.right)}},l={build:(e,t)=>({type:"Block",definitions:e,body:t}),suggest(e,t){null===e.body&&t.queryRoot(e.range[1])},compile(e,t){e.definitions.length?t.createScope(()=>{t.put("(()=>{"),t.list(e.definitions),t.put("return "),t.nodeOrCurrent(e.body),t.put("})()")},(e,t)=>e+t+";"):e.body&&"Object"===e.body.type?(t.put("("),t.nodeOrCurrent(e.body),t.put(")")):t.nodeOrCurrent(e.body)},walk(e,t){t.list(e.definitions),t.nodeOrNothing(e.body)},stringify(e,t){t.list(e.definitions),t.nodeOrNothing(e.body)}};const u={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"};var c={build:(e,t)=>({type:"Compare",query:e,order:t}),compile(e,t){e.order.startsWith("desc")&&t.put("-"),t.createScope(()=>{const r=u[e.order.slice(3+e.order.startsWith("desc"))]||u[""];t.put("f."+r+"((_q=current=>("),t.node(e.query),t.put("))(a),_q(b))")},(e,t)=>e+t+",")},walk(e,t){t.node(e.query)},stringify(e,t){t.node(e.query),t.put(" "),t.put(e.order)}},p={build:(e,t,r)=>({type:"Conditional",test:e,consequent:t,alternate:r}),compile(e,t){t.put("f.bool("),t.node(e.test),t.scope.captureCurrent.disabled=!0,t.put(")?"),t.node(e.consequent),t.put(":"),t.node(e.alternate),t.scope.captureCurrent.disabled=!1},walk(e,t){t.node(e.test),t.node(e.consequent),t.node(e.alternate)},stringify(e,t){t.node(e.test),t.put("?"),t.node(e.consequent),t.put(":"),t.node(e.alternate)}},h={build:()=>({type:"Context"}),compile(e,t){t.put("context")},walk(){},stringify(e,t){t.put("#")}},y={build:()=>({type:"Current"}),suggest(e,t){e.range&&t.range(e.range,"var")},compile(e,t){t.put("current")},walk(){},stringify(e,t){t.put("$")}},g={build:()=>({type:"Data"}),compile(e,t){t.put("data")},walk(){},stringify(e,t){t.put("@")}},f={build:e=>({type:"Declarator",name:e}),compile(e,t){e.name&&t.put("$"+e.name)},walk(){},stringify(e,t){t.put(e.name?"$"+e.name:"$")}},d={build:(e,t)=>({type:"GetProperty",value:e,property:t}),suggest(e,t){t.range(e.property.range,"path",e.value||void 0,!e.value),null===e.value&&t.range(e.property.range,"var"),e.range&&null===e.value&&e.property.range[0]!==e.range[0]&&t.queryRoot(e.range[0])},compile(e,t){t.put("f.map("),t.nodeOrCurrent(e.value),t.put(","),"Identifier"===e.property.type?t.put(JSON.stringify(e.property.name)):t.node(e.property),t.put(")")},walk(e,t){t.nodeOrNothing(e.value),t.node(e.property)},stringify(e,t){t.nodeOrNothing(e.value)&&t.put("."),t.node(e.property)}},b={build:e=>({type:"Identifier",name:e}),compile(e,t){t.put(e.name)},walk(){},stringify(e,t){t.put(e.name)}};const m=d.build,k=b.build,v=["data","context","ctx","array","idx","index"];var _={build:(e,t)=>({type:"Definition",declarator:e,value:t}),suggest(e,t){null===e.value&&t.range(e.declarator.range,"path")},compile(e,t){if(null===e.declarator.name)return t.node(e.declarator),t.nodeOrCurrent(e.value),void t.put(";");t.scope.own.includes(e.declarator.name)?t.error(`Identifier "$${e.declarator.name}" has already been declared`,e.declarator):v.includes(e.declarator.name)?t.error(`Identifier "$${e.declarator.name}" is reserved for future use`,e.declarator):(t.put("const "),t.node(e.declarator),t.put("="),t.node(e.value||m(null,k(e.declarator.name))),t.put(";"),t.scope.push(e.declarator.name),t.scope.own.push(e.declarator.name))},walk(e,t){t.node(e.declarator),t.nodeOrNothing(e.value)},stringify(e,t){t.node(e.declarator),null!==e.value&&(t.put(":"),t.node(e.value)),t.put(";")}},$={build:(e,t)=>({type:"Filter",value:e,query:t}),compile(e,t){t.put("f.filter("),t.nodeOrCurrent(e.value),t.createScope(()=>{t.put(",current=>"),t.node(e.query)},(e,r)=>(t.put(")"),e+"("+r+",")),t.put(")")},walk(e,t){t.nodeOrNothing(e.value),t.node(e.query)},stringify(e,t){t.nodeOrNothing(e.value),t.put(".["),t.node(e.query),t.put("]")}},O={build:(e,t,r)=>({type:"Function",arguments:e,body:t,legacy:Boolean(r)}),compile(e,t){t.createScope(()=>{t.scope.arg1=!0,t.put("function(current){return "),t.node(e.body),t.put("}")},(e,t)=>e+t+",")},walk(e,t){t.node(e.body)},stringify(e,t){e.legacy?(t.put("<"),t.node(e.body),t.put(">")):(t.put("=>"),t.node(e.body))}},E={build:e=>({type:"Literal",value:e}),compile(e,t){t.put("string"==typeof e.value?JSON.stringify(e.value):String(e.value))},walk(){},stringify(e,t){t.put("string"==typeof e.value?JSON.stringify(e.value):String(e.value))}},w={build:(e,t)=>({type:"Map",value:e,query:t}),compile(e,t){t.put("f.map("),t.nodeOrCurrent(e.value),t.createScope(()=>{t.put(",current=>"),t.node(e.query)},(e,r)=>(t.put(")"),e+"("+r+",")),t.put(")")},walk(e,t){t.nodeOrNothing(e.value),t.node(e.query)},stringify(e,t){t.nodeOrNothing(e.value),t.put(".("),t.node(e.query),t.put(")")}},A={build:(e,t)=>({type:"MapRecursive",value:e,query:t}),compile(e,t){t.put("f.mapRecursive("),t.nodeOrCurrent(e.value),t.createScope(()=>{t.put(",current=>"),t.node(e.query)},(e,r)=>(t.put(")"),e+"("+r+",")),t.put(")")},walk(e,t){t.nodeOrNothing(e.value),t.node(e.query)},stringify(e,t){t.nodeOrNothing(e.value),t.put(".."),t.isSimpleGetPropertyQuery(e.query)||t.isSimpleMethodCallQuery(e.query)?t.node(e.query):(t.put("("),t.node(e.query),t.put(")"))}},N={build:(e,t)=>({type:"Method",reference:e,arguments:t}),suggest(e,t){0===e.arguments.length&&t.queryRoot(e.range[1]-1)},compile(e,t,r){t.tolerant&&t.put("(typeof "),"Identifier"===e.reference.type&&t.put("m."),t.node(e.reference),t.tolerant&&(t.put('==="function"?'),"Identifier"===e.reference.type&&t.put("m."),t.node(e.reference)),t.put("("),t.nodeOrCurrent(r),e.arguments.length&&(t.put(","),t.list(e.arguments,",")),t.put(")"),t.tolerant&&t.put(":undefined)")},walk(e,t){t.node(e.reference),t.list(e.arguments)},stringify(e,t){t.node(e.reference),t.put("("),t.list(e.arguments,","),t.put(")")}},S={build:(e,t)=>({type:"MethodCall",value:e,method:t}),compile(e,t){t.node(e.method,e.value)},walk(e,t){t.nodeOrNothing(e.value),t.node(e.method)},stringify(e,t){t.nodeOrNothing(e.value)&&t.put("."),t.node(e.method)}},x={build:e=>({type:"Object",properties:e}),suggest(e,t){0===e.properties.length&&t.queryRoot(e.range[0]+1,e.range[1]-1)},compile(e,t){t.put("{"),t.list(e.properties,","),t.put("}")},walk(e,t){t.list(e.properties)},stringify(e,t){t.put("{"),t.list(e.properties,","),t.put("}")}};const T=d.build,C=b.build,I=new Set(["Literal","Identifier","Reference","Current"]);var R={build:(e,t)=>({type:"ObjectEntry",key:e,value:t}),suggest(e,t){if(null===e.value)switch(e.key.type){case"Identifier":t.range(e.range,"path"),t.range(e.range,"var");break;case"Current":case"Reference":t.range(e.range,"var")}},compile(e,t){let r=e.value;switch(e.key.type){case"Current":return;case"Literal":t.node(e.key);break;case"Identifier":t.node(e.key),r=r||T(null,C(e.key.name));break;case"Reference":t.node(e.key.name),r=r||e.key;break;default:t.put("["),t.node(e.key),t.put("]")}t.put(":"),t.node(r)},walk(e,t){t.node(e.key),t.nodeOrNothing(e.value)},stringify(e,t){if(I.has(e.key.type)){if(t.node(e.key),null===e.value)return}else t.put("["),t.node(e.key),t.put("]");t.put(":"),t.node(e.value)}},P={build:e=>({type:"Parentheses",body:e}),compile(e,t){t.put("("),t.node(e.body),t.put(")")},walk(e,t){t.node(e.body)},stringify(e,t){t.put("("),t.node(e.body),t.put(")")}},j={build:(e,t)=>({type:"Pick",value:e,getter:t}),suggest(e,t){if(null===e.getter){const r=e.range[1]-1;t.range([r,r],"key",e.value,!1),t.queryRoot(r)}else t.range(e.getter.range,"key",e.value,!1)},compile(e,t){t.put("f.pick("),t.node(e.value),e.getter&&(t.put(","),t.node(e.getter)),t.put(")")},walk(e,t){t.node(e.value),null!==e.getter&&t.node(e.getter)},stringify(e,t){t.node(e.value),t.put("["),null!==e.getter&&t.node(e.getter),t.put("]")}},q={build:(e,t)=>({type:"Pipeline",left:e,right:t}),compile(e,t){t.createScope(()=>{t.put("(current=>("),t.node(e.right),t.put("))")},(e,t)=>e+t+";"),t.put("("),t.node(e.left),t.put(")")},walk(e,t){t.node(e.left),t.node(e.right)},stringify(e,t){t.node(e.left),t.put("|"),t.node(e.right)}},M={build:e=>({type:"Reference",name:e}),suggest(e,t){e.range&&t.range(e.range,"var")},compile(e,t){if(!t.scope.includes(e.name.name)&&t.tolerant)return t.put("(typeof $"),t.node(e.name),t.put('!=="undefined"?$'),t.node(e.name),void t.put(":undefined)");t.put("$"),t.node(e.name)},walk(e,t){t.node(e.name)},stringify(e,t){t.put("$"),t.node(e.name)}},L={build:(e,t)=>({type:"SliceNotation",value:e,arguments:t}),compile(e,t){t.put("f.slice("),t.nodeOrCurrent(e.value),e.arguments.slice(0,3).forEach(e=>{t.put(","),e?t.node(e):t.put("undefined")}),t.put(")")},walk(e,t){t.nodeOrNothing(e.value);for(const r of e.arguments.slice(0,3))r&&t.node(r)},stringify(e,t){const[r,n,a]=e.arguments;t.nodeOrNothing(e.value),t.put("["),r&&t.node(r),t.put(":"),n&&t.node(n),a&&(t.put(":"),t.node(a)),t.put("]")}},D={build:e=>({type:"SortingFunction",compares:e}),compile(e,t){t.put("(a, b)=>{let _q;return "),t.list(e.compares,"||"),t.put("||0}")},walk(e,t){t.list(e.compares)},stringify(e,t){t.list(e.compares,",")}},F={build:(e,t=!1)=>({type:"Spread",query:e,array:t}),suggest(e,t){null===e.query&&t.queryRoot(e.range[1])},compile(e,t){if(e.array)return t.put("...f.ensureArray("),t.nodeOrCurrent(e.query),void t.put(")");t.put("..."),t.nodeOrCurrent(e.query)},walk(e,t){t.nodeOrNothing(e.query)},stringify(e,t){t.put("..."),t.nodeOrNothing(e.query)}},U={build:e=>({type:"Template",values:e}),suggest(e,t){for(const[r,n]of Object.entries(e.values))null===n&&t.queryRoot(e.values[r-1].range[1])},compile(e,t){for(const[r,n]of Object.entries(e.values))null!==n&&("0"!==r&&t.put("+"),r%2==0?t.put('"'+z(n.value,B)+'"'):(t.put("("),t.node(n),t.put(")")))},walk(e,t){for(const r of e.values)null!==r&&t.node(r)},stringify(e,t){const r=String(e.values.length-1);for(const[n,a]of Object.entries(e.values))n%2==0?(t.put("0"===n?"`":"}"),t.put(z(a.value,G)),t.put(n===r?"`":"${")):null!==a&&t.node(a)}};const B=new Map([["\b","\\b"],["\n","\\n"],["\r","\\r"],["\f","\\f"],["\t","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),G=new Map([["\b","\\b"],["\f","\\f"],["\t","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]]);function z(e,t){let r="";for(let n=0;n<e.length;n++)r+=t.get(e[n])||e[n];return r}const Y={Arg1:n,Array:a,Binary:o,Block:l,Compare:c,Conditional:p,Context:h,Current:y,Data:g,Declarator:f,Definition:_,Filter:$,Function:O,GetProperty:d,Identifier:b,Literal:E,Map:w,MapRecursive:A,Method:N,MethodCall:S,Object:x,ObjectEntry:R,Parentheses:P,Pick:j,Pipeline:q,Reference:M,SliceNotation:L,SortingFunction:D,Spread:F,Template:U,Unary:{build:(e,t)=>({type:"Unary",operator:e,argument:t}),compile(e,t){switch(e.operator){case"no":case"not":t.put("!f.bool("),t.node(e.argument),t.put(")");break;case"+":case"-":t.put(e.operator),t.node(e.argument);break;default:t.error('Unknown operator "'+e.operator+'"',e)}},walk(e,t){t.node(e.argument)},stringify(e,t){t.put(e.operator),"-"!==e.operator&&"+"!==e.operator&&t.put(" "),t.node(e.argument)}}},J=e=>new Map(Object.entries(Y).map(([t,r])=>[t,r[e]]).filter(([,e])=>"function"==typeof e)),H={};J("build").forEach((e,t)=>H[t]=e);var W={nodes:Y,build:H,compile:J("compile"),walk:J("walk"),stringify:J("stringify"),suggest:J("suggest")};const Z=W.walk;var Q=function(e,t){function r(e){if(!Z.has(e.type))throw new Error("Unknown node type `"+e.type+"`");a(e),Z.get(e.type)(e,n),s(e)}const n={node:r,nodeOrNothing(e){null!==e&&r(e)},list(e){e.forEach(r)}};let a=()=>{},s=()=>{};"function"==typeof t&&(t={enter:t}),t&&("function"==typeof t.enter&&(a=t.enter),"function"==typeof t.leave&&(s=t.leave)),r(e)};const V=W.suggest;function X(e,t){return t>=0&&t<e.length&&/[a-zA-Z_$0-9]/.test(e[t])}function K(e,t){const r=e.charCodeAt(t);return 9===r||10===r||13===r||32===r}function ee(e,t,r){for(;t<r;t++)if(!K(e,t))return!1;return!0}function te(e,t,r,n,a){const s=[];for(let r=0;r<n.length;r++){const[a,i]=n[r];if(a>=t)break;a<e||(a===e?s.push(e,e):s.push(e,a),e=i)}return e===r.length&&a||s.push(e,t),s}function re(e,t,r,n){const a=[];for(let s=0;s<e.length;s++){let[i,o,l,u]=e[s];if(ee(t,i,o)){for(;i>=0&&K(t,i-1);)i--;for(;o<t.length&&K(t,o);)o++;if(X(t,i-1)){if(i===o)continue;i++}if(X(t,o)){if(i===o)continue;o--}}const c=te(i,o,t,r,n);for(let e=0;e<c.length;e+=2)a.push([c[e],c[e+1],l,u])}return a}var ne=function(e,{ast:t,commentRanges:r}){const n=function(e){let t=null;const r=new Map,n=(e,t)=>{r.has(e)?r.get(e).push(t):r.set(e,[t])},a={range(e,r,a=t,s=!0){n(a,[...e,r,s]),s&&!0!==s&&n(s,[])},queryRoot(e,r=e){n(t,[e,r,"var",!0]),n(t,[e,r,"path",!0])}};return Q(e,e=>{if(V.has(e.type)){const r=t;t=e,V.get(e.type)(e,a),t=r}}),r}(t),a=r.length&&r[r.length-1][1]===e.length&&!/[\r\n]$/.test(e);for(const[t,s]of n)n.set(t,re(s,e,r,a));return n};const ae=W.stringify;function se(e){return"GetProperty"===e.type&&((!e.value||"Current"===e.value.type)&&"Identifier"===e.property.type)}function ie(e){return"MethodCall"===e.type&&(!e.value||"Current"===e.value.type)}var oe=function(e){function t(e){if(!ae.has(e.type))throw new Error("Unknown node type `"+e.type+"`");ae.get(e.type)(e,n)}const r=[],n={isSimpleGetPropertyQuery:se,isSimpleMethodCallQuery:ie,put(e){r.push(e)},node:t,nodeOrNothing(e){if(null!==e)return t(e),!0},list(e,r){r?e.forEach((e,a)=>{a>0&&n.put(r),t(e)}):e.forEach(t)}};return t(e),r.join("")};const le=W.compile;var ue=function(e,t=!1,r=null){function n(e){let t;return l.has(e)?t=l.get(e):(o.push(t="s"+o.length),l.set(e,t)),t}function a(e,t,r,n,a){let s=[e,t,JSON.stringify(r)];if("var"===r){if(!h.scope.length)return;s.push(JSON.stringify(h.scope))}else n||o.push(n="s"+o.length),s.push(n),a&&s.push(a);return c.push(s),n}function s(e,t){const r=h.scope,n=p.length;if(h.scope=h.scope.slice(),h.scope.own=[],h.scope.firstCurrent=null,h.scope.captureCurrent=[],h.scope.arg1=r.arg1||!1,e(),h.scope.captureCurrent.length){const e="stat("+h.scope.captureCurrent.reduce((e,t)=>a(...t,e),void 0)+",current)";h.scope.firstCurrent?p[h.scope.firstCurrent]=e:p[n]=t(p[n],e)}h.scope=r}function i(e,t){let s=!1;if(null!==r){if(r.has(e))for(const[t,i,o,l]of r.get(e))"var"===o?a(t,i,o):!0===l?h.scope.captureCurrent.push([t,i,o]):(s||(s=n(e),p.push("stat("+s+",")),o&&a(t,i,o,s,l&&n(l)));"Current"===e.type&&null===h.scope.firstCurrent&&!0!==h.scope.captureCurrent.disabled&&(h.scope.firstCurrent=p.length)}if(!le.has(e.type))throw new Error("Unknown node type `"+e.type+"`");le.get(e.type)(e,h,t),s&&p.push(")")}const o=[],l=new WeakMap,u=[],c=[],p=["const current=data;",{toString:()=>u.length>0?"let "+u+";\n":""},{toString:()=>0===o.length?"":["const stat=(s,v)=>(s.add(v),v);\n","const "+o.map(e=>e+"=new Set()")+";\n"].join("")},"return "],h={tolerant:t,scope:[],createScope:s,error:(e,r)=>{const n=new SyntaxError(e);if(r&&r.range&&(n.details={loc:{range:r.range}}),!t)throw n},allocateVar(){const e="tmp"+u.length;return u.push(e),e},put:e=>p.push(e),node:i,nodeOrNothing(e,t){e&&i(e,t)},nodeOrCurrent(e,t){i(e||{type:"Current"},t)},list(e,t,r){e.forEach((e,n)=>{n>0&&p.push(t),i(e,r)})}};s(()=>i(e),(e,t)=>(p.push(")"),"("+t+","+e)),null!==r&&p.push("\n,["+c.map(e=>"["+e+"]")+"]");try{return new Function("f","m","data","context",p.join(""))}catch(e){const t=function(e,t){const r=Object.create(SyntaxError.prototype),n=new Error;return r.name=e,r.message=t,Object.defineProperty(r,"stack",{get:function(){return(n.stack||"").replace(/^(.+\n){1,3}/,e+": "+t+"\n")}}),r}("SyntaxError","Jora query compilation error"),r=p.join("");throw t.compiledSource=r,t}};const ce=Object.hasOwnProperty,pe=Object.prototype.toString;var he={addToSet:function(e,t){return void 0!==t&&(Array.isArray(t)?t.forEach(t=>e.add(t)):e.add(t)),e},getPropertyValue:function(e,t){return e&&ce.call(e,t)?e[t]:void 0},isPlainObject:function(e){return null!==e&&"object"==typeof e&&e.constructor===Object},isRegExp:function(e){return"[object RegExp]"===pe.call(e)},isArrayLike:function(e){return e&&ce.call(e,"length")}};const ye=(e,t)=>t<e.length?e.charCodeAt(t):0,ge=e=>43===e||45===e,fe=e=>e>=48&&e<=57,de=e=>9===e||10===e||12===e||13===e||32===e,be=e=>e>32&&e<256&&(e<65||e>90)&&(e<97||e>122)&&(e<48||e>57)&&43!==e&&45!==e||8470===e;function me(e,t){for(;fe(ye(e,t));)t++;return t}function ke(e,t,r,n){if(t>=e.length)return 0;let a=ye(e,t);if(de(a)){let r=t+1;for(;de(ye(e,r));)r++;return 1|r-t<<3}if(be(a)||n&&ge(a)){let r=t+1,n=a;do{a=n,n=ye(e,r++)}while(be(n)||n===a);return 2|r-t-1<<3}let s=ye(e,t+1),i=ye(e,t+2);if(l=s,u=i,ge(o=a)?fe(l)||!(46!==l||!fe(u)):!!fe(o))return 3|function(e,t,r){let n=ye(e,t);if(ge(n)&&(n=ye(e,t+=1)),fe(n)&&(t=me(e,t+1),n=ye(e,t)),46===n&&fe(ye(e,t+1))){if(r)return t;let n=t+2;if(n=me(e,n),46===ye(e,n))return t;t=n}if(n=ye(e,t),69===n||101===n){let r=0;n=ye(e,t+1),ge(n)&&(r=1,n=ye(e,t+2)),fe(n)&&(t=me(e,t+1+r+1))}return t}(e,t,r)-t<<3;var o,l,u;let c=t;do{a=s,s=i,i=ye(e,3+c++)}while(c<e.length&&!de(a)&&!be(a)&&!fe(a));return 4|c-t<<3}function ve(e,t,r){let n=0,a=0,s=!1,i=!1,o=0,l=0,u=!0;for(;;){const c=ke(e,n,s,i),p=ke(t,a,s,i),h=7&c,y=c>>3,g=7&p,f=p>>3;if(h!==g&&u){if(!(1!==h&&2!==h||3!==g&&4!==g)){o=1,l=h,n+=y;continue}if(!(1!==g&&2!==g||3!==h&&4!==h)){o=-1,l=g,a+=f;continue}}if(u=!1,h!==g)return h<g?-1:1;if(s=!1,i=!1,0===h)return o;const d=y<f?y:f;let b=y-f,m=0;for(;m<d;m++){const r=e[n+m],s=t[a+m];if(r!==s){b=r<s?-1:1;break}}if(1===h||2===h)0!==b&&(0===o||h>l)&&(l=h,o=b),s="."===e[n+y-1];else if(3===h){if(i=!0,0!==b){const s=e.substr(n,y)-t.substr(a,f);if(0!==s)return r?-s:s;if(0===o||h>l){const s=ye(e,n),i=ye(t,a),u=45===s?-1:1;l=h,o=s===i||45!==s&&43!==i?s===i||43!==s&&45!==i?(y!==f?y<f:b<0)?-u:u:1:-1,r&&(o=-o)}}}else{if(0!==b){if(m<d){let r=e[n+m].toLowerCase(),s=t[a+m].toLowerCase();if(r!==s)return r<s?-1:1}return b}s="."===e[n+y-1]}n+=y,a+=f}}var _e={naturalCompare:function(e,t){const r=typeof e,n=typeof t;let a=0;return"number"!==r&&"string"!==r||"number"!==n&&"string"!==n||(a=ve(String(e),String(t),!1)),a},naturalAnalyticalCompare:function(e,t){const r=typeof e,n=typeof t;let a=0;return"number"!==r&&"string"!==r||"number"!==n&&"string"!==n||(a=ve(String(e),String(t),!0)),a}};const{addToSet:$e,getPropertyValue:Oe,isPlainObject:Ee,isRegExp:we,isArrayLike:Ae}=he,{naturalCompare:Ne,naturalAnalyticalCompare:Se}=_e;function xe(e){switch(typeof e){case"boolean":return 1;case"number":return e!=e?2:3;case"string":return 4;case"object":return null===e?5:6;default:return 7}}var Te=Object.freeze({ensureArray:e=>Array.isArray(e)?e:[e],bool(e){if(Array.isArray(e))return e.length>0;if(Ee(e)){for(const t in e)if(hasOwnProperty.call(e,t))return!0;return!1}return Boolean(e)},add:(e,t)=>Array.isArray(e)||Array.isArray(t)?[...new Set([].concat(e,t))]:e+t,sub(e,t){if(Array.isArray(e)){const r=new Set(e);return Array.isArray(t)?t.forEach(e=>r.delete(e)):r.delete(t),[...r]}return e-t},mul:(e,t)=>e*t,div:(e,t)=>e/t,mod:(e,t)=>e%t,eq:(e,t)=>Object.is(e,t),ne:(e,t)=>!Object.is(e,t),lt:(e,t)=>e<t,lte:(e,t)=>e<=t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t,in:(e,t)=>Ee(t)?hasOwnProperty.call(t,e):!(!t||"function"!=typeof t.indexOf)&&-1!==t.indexOf(e),cmp(e,t){const r=xe(e),n=xe(t);return r!==n?r<n?-1:1:e<t?-1:e>t?1:0},cmpAnalytical(e,t){const r=xe(e),n=xe(t);return r!==n?r<n?-1:1:3===r?t-e:e<t?-1:e>t?1:0},cmpNatural(e,t){const r=xe(e),n=xe(t);return 3!==r&&4!==r||3!==n&&4!==n?r!==n?r<n?-1:1:e<t?-1:e>t?1:0:Ne(e,t)},cmpNaturalAnalytical(e,t){const r=xe(e),n=xe(t);return 3!==r&&4!==r||3!==n&&4!==n?r!==n?r<n?-1:1:e<t?-1:e>t?1:0:Se(e,t,!0)},match(e,t){return"function"==typeof t?this.some(e,t):we(t)?this.some(e,t.test.bind(t)):null==t},pick(e,t=(()=>!0)){if(e){if("function"!=typeof t)return Array.isArray(e)||"string"==typeof e?isFinite(t)?e[t<0?e.length+Number(t):Number(t)||0]:void 0:hasOwnProperty.call(e,t)?e[t]:void 0;if(Array.isArray(e)||"string"==typeof e)for(let r=0;r<e.length;r++)if(t(e[r],r))return e[r];for(const r in e)if(hasOwnProperty.call(e,r)&&t(e[r],r))return e[r]}},map(e,t){const r="function"==typeof t?t:e=>Oe(e,t);return Array.isArray(e)?[...e.reduce((e,t)=>$e(e,r(t)),new Set)]:void 0!==e?r(e):e},mapRecursive(e,t){const r=new Set;return $e(r,this.map(e,t)),r.forEach(e=>$e(r,this.map(e,t))),[...r]},some(e,t){return Array.isArray(e)?e.some(e=>this.bool(t(e))):this.bool(t(e))},filter(e,t){return Array.isArray(e)?e.filter(e=>this.bool(t(e))):this.bool(t(e))?e:void 0},slice(e,t=0,r=e&&e.length,n=1){if(!Ae(e))return[];if(t=parseInt(t,10)||0,r=parseInt(r,10)||e.length,1!==(n=parseInt(n,10)||1)){const a=[];t=t<0?Math.max(0,e.length+t):Math.min(e.length,t),r=r<0?Math.max(0,e.length+r):Math.min(e.length,r);for(let s=n>0?t:r-1;s>=t&&s<r;s+=n)a.push(e[s]);return a}return"string"==typeof e?e.slice(t,r):Array.prototype.slice.call(e,t,r)}});const{addToSet:Ce,isPlainObject:Ie}=he;function Re(){}function Pe(e){return e}function je(e){return{matched:e.slice(),start:e.index,end:e.index+e[0].length,input:e.input,groups:e.groups||null}}var qe=Object.freeze({bool:Te.bool,filter:Te.filter,map:Te.map,pick:Te.pick,keys:e=>Object.keys(e||{}),values(e){const t=new Set;for(const r in e)hasOwnProperty.call(e,r)&&Ce(t,e[r]);return[...t]},entries(e){const t=[];for(const r in e)hasOwnProperty.call(e,r)&&t.push({key:r,value:e[r]});return t},fromEntries(e){const t={};return Array.isArray(e)&&e.forEach(e=>{e&&(t[e.key]=e.value)}),t},size:e=>Ie(e)?Object.keys(e).length:e&&e.length||0,sort(e,t){let r;return Array.isArray(e)?("function"==typeof t&&(r=2===t.length?t:(e,r)=>{if(e=t(e),r=t(r),Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return e.length<r.length?-1:1;for(let t=0;t<e.length;t++){if(e[t]<r[t])return-1;if(e[t]>r[t])return 1}return 0}return e<r?-1:e>r}),e.slice().sort(r)):e},reverse:e=>Array.isArray(e)?e.slice().reverse():e,slice:(e,t,r)=>Te.slice(e,t,r),group(e,t,r){"function"!=typeof t&&(t=Re),"function"!=typeof r&&(r=Pe),Array.isArray(e)||(e=[e]);const n=new Map,a=[];return e.forEach(e=>{let a=t(e);Array.isArray(a)||(a=[a]),a.forEach(t=>{n.has(t)?n.get(t).add(r(e)):n.set(t,new Set([r(e)]))})}),n.forEach((e,t)=>a.push({key:t,value:[...e]})),a},split:(e,t)=>String(e).split(t),join:(e,t)=>Array.isArray(e)?e.join(t):String(e),match(e,t,r){const n=String(e);if(r){const e=[];let r,a=new RegExp(t,t.flags+"g");for(;r=a.exec(n);)e.push(je(r));return e}const a=String(e).match(t);return a&&je(a)},reduce:(e,t,r)=>Array.isArray(e)?void 0!==r?e.reduce((e,r)=>t(r,e),r):e.reduce((e,r)=>t(r,e)):t(e,r)});const{addToSet:Me,isPlainObject:Le}=he,De={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable"};function Fe(e,t,r,n){const a=[];for(let[s,i,o,l,u=null]of r)if(t>=s&&t<=i&&(n||l.size||l.length)){let r=e.substring(s,i);/\S/.test(r)||(r="",s=i=t),a.push({context:o,current:r,from:s,to:i,values:l,related:u})}return a}var Ue,Be=(e,t)=>({stat(r,n){const a=Fe(e,r,t,n);return a.forEach(e=>{e.values=[...e.values]}),a.length?a:null},suggestion(r,n){const a=Fe(e,r,t,n),s=[];return a.forEach(e=>{const{context:t,current:r,from:n,to:a,values:i,related:o}=e;s.push(...function(e,t,r){const n=new Set,a=e=>{switch(typeof e){case"string":n.add(JSON.stringify(e));break;case"number":n.add(String(e))}};switch(e){case"":case"path":t.forEach(e=>{Array.isArray(e)?e.forEach(e=>{Le(e)&&Me(n,Object.keys(e))}):Le(e)&&Me(n,Object.keys(e))});break;case"key":t.forEach(e=>{null===e||"object"!=typeof e||Array.isArray(e)||Object.keys(e).forEach(a)});break;case"value":t.forEach(e=>{Array.isArray(e)?e.forEach(a):a(e)});break;case"in-value":t.forEach(e=>{Array.isArray(e)?e.forEach(a):Le(e)?Object.keys(e).forEach(a):a(e)});break;case"var":t.forEach(e=>{n.add("$"+e)});break;case"value-subset":t.forEach(e=>{Array.isArray(e)?e.forEach(a):a(e)}),r.forEach(e=>{e.forEach(e=>{"string"!=typeof e&&"number"!=typeof e||n.delete(JSON.stringify(e))})})}return[...n]}(t,i,o).map(e=>({current:r,type:De[t],value:e,from:n,to:a})))}),s.length?s:null}}),Ge=(Ue=t)&&Ue.default||Ue;const{version:ze}=Ge,{tokenize:Ye,parse:Je}=r,He=new Map,We=new Map,Ze=new Map,Qe=new Map;function Ve(e,t){console.log(`[${e}]`),"string"==typeof t?console.log(t):void 0!==t&&console.dir(t,{depth:null}),console.log()}function Xe(e,t,r,n){(n="function"==typeof n?n:!!Boolean(n)&&Ve)&&(n("========================="),n("Compile query from source",e));const a=Je(e,r);n&&(n("AST",a.ast),n("Restored source",oe(a.ast)));const s=t?ne(e,a):null;if(n&&s){const t=e=>JSON.stringify(e).slice(1,-1),r=[].concat(...[...s.entries()].map(([e,t])=>t.map(t=>[e,...t])));let a=[],i=null;n("Suggest ranges",r.sort((e,t)=>e[1]-t[1]).map(([r,...n])=>{const[s,o,l,u]=n;let c;if(l){if(s===a[0]&&o===a[1])c=" ".repeat(i.length);else{const r=t(e.slice(0,s)).length,l=t(e.substring(s,o)).length;a=n,i=" ".repeat(r)+(l?"~".repeat(l):"\\")+" "+s+":"+o,c=t(e)+"\n"+i}return c+" ["+l+"] on "+r.type+(!0===u?" (current)":u?" & "+u.type:"")}}).join("\n"))}const i=ue(a.ast,r,s);return n&&n("Compiled code",i.toString()),i}return Object.assign((function(e,t){t=t||{};const r=Boolean(t.stat),n=Boolean(t.tolerant),a=t.methods?{...qe,...t.methods}:qe,s=r?n?Qe:We:n?Ze:He;let i;return e=String(e),s.has(e)&&!t.debug?i=s.get(e):(i=Xe(e,r,n,t.debug),s.set(e,i)),r?(t,r)=>Be(e,i(Te,a,t,r)):(e,t)=>i(Te,a,e,t)}),{version:ze,buildin:Te,methods:qe,setup:function(e){const t=new Map,r=new Map,n=new Map,a=new Map,s={...qe,...e};return function(e,i){i=i||{};const o=Boolean(i.stat),l=Boolean(i.tolerant),u=o?l?a:r:l?n:t;let c;if(e=String(e),u.has(e)&&!i.debug)c=u.get(e);else{const t=Xe(e,o,l,i.debug);c=o?(r,n)=>Be(e,t(Te,s,r,n)):(e,r)=>t(Te,s,e,r),u.set(e,c)}return c}},syntax:{tokenize:Ye,parse:Je,suggest:ne,walk:Q,stringify:oe,compile:ue}})}));
